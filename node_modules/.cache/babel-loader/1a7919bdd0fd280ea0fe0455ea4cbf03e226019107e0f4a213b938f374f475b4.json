{"ast":null,"code":"import AutoLabelByPositionComponent from \"src/decidim/admin/auto_label_by_position.component\";\nimport AutoButtonsByPositionComponent from \"src/decidim/admin/auto_buttons_by_position.component\";\nimport createDynamicFields from \"src/decidim/admin/dynamic_fields.component\";\nimport createSortList from \"src/decidim/admin/sort_list.component\";\n$(function () {\n  var initMultifield = function initMultifield($wrapper) {\n    var wrapperSelector = \"#\".concat($wrapper.attr(\"id\"));\n    var placeholderId = $wrapper.data(\"placeholder-id\");\n    var fieldSelector = \".multifield-field\";\n    var autoLabelByPosition = new AutoLabelByPositionComponent({\n      listSelector: \"\".concat(wrapperSelector, \" .multifield-field:not(.hidden)\"),\n      labelSelector: \".card-title span:first\",\n      onPositionComputed: function onPositionComputed(el, idx) {\n        $(el).find(\"input.position-input\").val(idx);\n      }\n    });\n    var autoButtonsByPosition = new AutoButtonsByPositionComponent({\n      listSelector: \"\".concat(wrapperSelector, \" .multifield-field:not(.hidden)\"),\n      hideOnFirstSelector: \".move-up-field\",\n      hideOnLastSelector: \".move-down-field\"\n    });\n    var createSortableList = function createSortableList() {\n      createSortList(\"\".concat(wrapperSelector, \" .fields-list:not(.published)\"), {\n        handle: \".multifield-field-divider\",\n        placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n        forcePlaceholderSize: true,\n        onSortUpdate: function onSortUpdate() {\n          autoLabelByPosition.run();\n        }\n      });\n    };\n    var hideDeletedSection = function hideDeletedSection($target) {\n      var inputDeleted = $target.find(\"input[name$=\\\\[deleted\\\\]]\").val();\n      if (inputDeleted === \"true\") {\n        $target.addClass(\"hidden\");\n        $target.hide();\n      }\n    };\n    createDynamicFields({\n      placeholderId: placeholderId,\n      wrapperSelector: wrapperSelector,\n      containerSelector: \".multifield-fields-list\",\n      fieldSelector: fieldSelector,\n      addFieldButtonSelector: \".add-field\",\n      removeFieldButtonSelector: \".remove-field\",\n      moveUpFieldButtonSelector: \".move-up-field\",\n      moveDownFieldButtonSelector: \".move-down-field\",\n      onAddField: function onAddField($newField) {\n        createSortableList();\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n        $wrapper.trigger(\"add-field-section\", $newField);\n      },\n      onRemoveField: function onRemoveField() {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onMoveUpField: function onMoveUpField() {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onMoveDownField: function onMoveDownField() {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      }\n    });\n    createSortableList();\n    $(fieldSelector).each(function (idx, el) {\n      var $target = $(el);\n      hideDeletedSection($target);\n    });\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  };\n  $.fn.multifield = function () {\n    $(this).each(\n    /**\n     * @this HTMLElement\n     * @return {void}\n     */\n    function () {\n      var $elem = $(this);\n      var id = $elem.attr(\"id\");\n      if (!id || id.length < 1) {\n        id = \"multifield-\".concat(Math.random().toString(16).slice(2));\n        $elem.attr(\"id\", id);\n      }\n      initMultifield($elem);\n    });\n  };\n});","map":{"version":3,"names":["AutoLabelByPositionComponent","AutoButtonsByPositionComponent","createDynamicFields","createSortList","$","initMultifield","$wrapper","wrapperSelector","concat","attr","placeholderId","data","fieldSelector","autoLabelByPosition","listSelector","labelSelector","onPositionComputed","el","idx","find","val","autoButtonsByPosition","hideOnFirstSelector","hideOnLastSelector","createSortableList","handle","placeholder","forcePlaceholderSize","onSortUpdate","run","hideDeletedSection","$target","inputDeleted","addClass","hide","containerSelector","addFieldButtonSelector","removeFieldButtonSelector","moveUpFieldButtonSelector","moveDownFieldButtonSelector","onAddField","$newField","trigger","onRemoveField","onMoveUpField","onMoveDownField","each","fn","multifield","$elem","id","length","Math","random","toString","slice"],"sources":["/home/amandamaduro/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-module-term_customizer-5a8d4c67972e/app/packs/src/decidim/term_customizer/admin/multifield/component.js"],"sourcesContent":["import AutoLabelByPositionComponent from \"src/decidim/admin/auto_label_by_position.component\"\nimport AutoButtonsByPositionComponent from \"src/decidim/admin/auto_buttons_by_position.component\"\nimport createDynamicFields from \"src/decidim/admin/dynamic_fields.component\"\nimport createSortList from \"src/decidim/admin/sort_list.component\"\n\n$(() => {\n  const initMultifield = ($wrapper) => {\n    const wrapperSelector = `#${$wrapper.attr(\"id\")}`;\n    const placeholderId = $wrapper.data(\"placeholder-id\");\n\n    const fieldSelector = \".multifield-field\";\n\n    const autoLabelByPosition = new AutoLabelByPositionComponent({\n      listSelector: `${wrapperSelector} .multifield-field:not(.hidden)`,\n      labelSelector: \".card-title span:first\",\n      onPositionComputed: (el, idx) => {\n        $(el).find(\"input.position-input\").val(idx);\n      }\n    });\n\n    const autoButtonsByPosition = new AutoButtonsByPositionComponent({\n      listSelector: `${wrapperSelector} .multifield-field:not(.hidden)`,\n      hideOnFirstSelector: \".move-up-field\",\n      hideOnLastSelector: \".move-down-field\"\n    });\n\n    const createSortableList = () => {\n      createSortList(`${wrapperSelector} .fields-list:not(.published)`, {\n        handle: \".multifield-field-divider\",\n        placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n        forcePlaceholderSize: true,\n        onSortUpdate: () => { autoLabelByPosition.run() }\n      });\n    };\n\n    const hideDeletedSection = ($target) => {\n      const inputDeleted = $target.find(\"input[name$=\\\\[deleted\\\\]]\").val();\n\n      if (inputDeleted === \"true\") {\n        $target.addClass(\"hidden\");\n        $target.hide();\n      }\n    }\n\n    createDynamicFields({\n      placeholderId: placeholderId,\n      wrapperSelector: wrapperSelector,\n      containerSelector: \".multifield-fields-list\",\n      fieldSelector: fieldSelector,\n      addFieldButtonSelector: \".add-field\",\n      removeFieldButtonSelector: \".remove-field\",\n      moveUpFieldButtonSelector: \".move-up-field\",\n      moveDownFieldButtonSelector: \".move-down-field\",\n      onAddField: ($newField) => {\n        createSortableList();\n\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n\n        $wrapper.trigger(\"add-field-section\", $newField);\n      },\n      onRemoveField: () => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onMoveUpField: () => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onMoveDownField: () => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      }\n    });\n\n    createSortableList();\n\n    $(fieldSelector).each((idx, el) => {\n      const $target = $(el);\n\n      hideDeletedSection($target);\n    });\n\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  }\n\n  $.fn.multifield = function() {\n    $(this).each(\n\n      /**\n       * @this HTMLElement\n       * @return {void}\n       */\n      function() {\n        const $elem = $(this);\n        let id = $elem.attr(\"id\");\n        if (!id || id.length < 1) {\n          id = `multifield-${Math.random().toString(16).slice(2)}`;\n          $elem.attr(\"id\", id);\n        }\n        initMultifield($elem);\n      }\n    )\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}